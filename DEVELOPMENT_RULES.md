# 開発ルール

## t-wada推奨のテスト駆動開発 (TDD)

### 基本原則
1. **Red-Green-Refactor サイクル**
   - Red: 失敗するテストを書く
   - Green: テストを通す最小限のコードを書く
   - Refactor: コードを改善する

2. **テストファースト**
   - 実装前に必ずテストを書く
   - テストが仕様書の役割を果たす
   - テストが無いコードは書かない

### コーディング規約

#### ファイル構造
```
src/
├── services/          # ビジネスロジック
├── parsers/           # データ変換
├── __tests__/         # テスト（各ディレクトリ内）
└── index.ts           # エントリーポイント
```

#### テスト命名規則
- `describe`: クラス名やモジュール名
- `it`: 具体的な動作を説明
- テストは日本語で書く（仕様が明確になる）

#### 実装原則
1. **単一責任の原則**: 1つのクラスは1つの責任
2. **依存性注入**: 外部依存はコンストラクタで注入
3. **モック化**: 外部サービスは必ずモック化
4. **エラーハンドリング**: 全ての異常系をテスト

### 品質保証
- **テストカバレッジ**: 100%を目指す
- **リント**: ESLintで静的解析
- **型安全**: TypeScriptで型チェック
- **継続的テスト**: npm test で全テスト実行

### Git運用
- 各機能はブランチで開発
- テストが通ってからコミット
- リファクタリングは別コミット

### 参考文献
- t-wada氏のTDD講演資料
- Clean Code 原則
- Jest公式ドキュメント